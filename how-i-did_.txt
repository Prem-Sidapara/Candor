day 1:      created a vite project and removed all the boilerplate code and made basic structure of the project 


day 2: 
            created supabase project 
            created database 
            created table for posts

            -- Create the table for holding posts
            create table public.posts (
            id bigint generated by default as identity primary key,
            content text not null check (char_length(content) <= 500), -- Limit to 500 chars
            image_url text, -- For image uploads
            created_at timestamp with time zone default timezone('utc'::text, now()) not null,
            upvotes int default 0,
            downvotes int default 0,
            is_approved boolean default false -- For future AI moderation
            );

            -- Enable Row Level Security (Security Best Practice)
            alter table public.posts enable row level security;

            -- Create Policy: Everyone can read posts
            create policy "Everyone can view posts" 
            on public.posts for select 
            using (true);

            -- Create Policy: Everyone can create posts (Anonymous)
            create policy "Everyone can create posts" 
            on public.posts for insert 
            with check (true);



            Navbar
            Feed
            PostCard
            


day 3:

            logic 
            
            check for existing token  {

                get from localstorage 

                if not in localStorage {
                    generate a random token 
                    databse me new user daalo
                    insert ke baad vahi vaapis chahiye 

                    localstorage me save karo

                    vo hi return kardo

                }
                else {
                    
                    databse me us user ko fetch karo 
                    jiska token match kare

                    return karo 
                }
            }



day 4:

            anonymous post creation with real-time feed banaya

            pehle useIdentity hook banaya src/hooks/useIdentity.js
                loading aur error state rakha â€” sirf user nahi, poora context return kiya
                cancelled flag lagaya â€” React StrictMode double-invoke se bachane ke liye (cleanup)

            fir Supabase me anonymous_users table create ki
                kyunki identity.js us table me insert karta tha lekin table thi hi nahi
                user_id column posts table mein bhi add kiya â€” foreign key ke saath
                RLS policies improved ki dono tables pe â€”
                    anonymous_users INSERT: sirf valid 36-char UUID token allow

                    posts INSERT: user_id null nahi hona chahiye + anonymous_users me exist karna chahiye

                ALTER PUBLICATION supabase_realtime ADD TABLE posts â€” realtime enable kiya

            fir CreatePostModal component banaya src/components/CreatePostModal.jsx

                MAX_CHARS = 500 rakha â€” Supabase ke DB constraint se match kiya
                MIN_CHARS = 10 rakha â€” junk posts block karne ke liye
                char counter lagaya â€” real-time dikhao kitna likha
                isValid check â€” submit se pehle validate kiya
                double-submit guard â€” submitting flag se
                Escape key aur overlay click se modal band hota hai
                optional chaining onPostCreated?.() â€” agar prop nahi diya toh crash nahi

            fir Navbar me Post button wire kiya src/components/Navbar.jsx
                showModal state rakha
                button click pe modal open, onClose pe band

            fir Feed improve kiya src/components/Feed.jsx
                useCallback lagaya fetchPosts pe â€” stable reference ke liye (infinite loop avoid)
                loading skeleton â€” blank screen nahi dikhti jab posts load ho rahi hain
                empty state message add kiya
                Supabase Realtime subscribe kiya â€” naya post aate hi feed automatically refresh
                cleanup me removeChannel â€” memory leak nahi hoga




day 5: 
            2x2 feed banaya

            added accent gradient bar, topic chip, line clamp,
            vote/comment counts, and hover lift animation
            use numeric post.id modulo for accent color (charCodeAt crash)



day 6: 

            AI use karne ka time aa gaya hehe.

            user post kare to automatically usko category/topic name assign ho AI ki help se. 
            user khud bhi daal sakta hai in case. 
            dono ke topics same hue to ek achha dikhne vala confirm 
            agar AI ka alag hai aur user ka alag hai 
            to dono topic/category assign hogi  
            
            so one post can have many topcis. 

            so total topic table - id, name 
            post topic table - post id, topic id  

            google gemini api use kiya

            create table public.topics (
            id bigint generated by default as identity primary key,
            name text not null unique
            );

            alter table public.topics enable row level security;
            create policy "Everyone can view topics" on public.topics for select using (true);
            create policy "Anyone can insert topics" on public.topics for insert with check (true);

            -- many to many 

            create table public.post_topics (
            post_id bigint references public.posts(id) on delete cascade,
            topic_id bigint references public.topics(id) on delete cascade,
            primary key (post_id, topic_id)
            );

            alter table public.post_topics enable row level security;
            create policy "Everyone can view post_topics" on public.post_topics for select using (true);
            create policy "Anyone can insert post_topics" on public.post_topics for insert with check (true);


            but then i drop case sensitive constraint 
            and added lowercase only 

            -- Drop the old case-sensitive unique constraint
            alter table public.topics drop constraint topics_name_key;

            -- Add a case-insensitive unique index instead
            create unique index topics_name_lower_idx on public.topics (lower(name));


            then few things also added 

            alter table public.topics
            add constraint topics_name_length check (char_length(trim(name)) between 2 and 50);

            just for like that yun hi  

            alter table public.topics
            add column created_at timestamp with time zone default timezone('utc', now()) not null;

            -- 3. Indexes on post_topics for fast queries
            --    "give me all topics for post X" 
            create index post_topics_post_id_idx on public.post_topics(post_id);
            --    "give me all posts with topic Y"
            create index post_topics_topic_id_idx on public.post_topics(topic_id);
            ðŸ‘‰Without these filtering feed by topic => full table scan (slow when big database)

            -- 4. created_at on post_topics (know when a tag was assigned)
            alter table public.post_topics
            add column tagged_at timestamp with time zone default timezone('utc', now()) not null;

            ðŸ‘‰know if a post was retroactively tagged vs tagged on creation


            